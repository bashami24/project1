@Service
public class LeaveRequestService {
    private final LeaveRequestRepository leaveRequestRepository;

    public LeaveRequestService(LeaveRequestRepository leaveRequestRepository) {
        this.leaveRequestRepository = leaveRequestRepository;
    }

    public LeaveRequest addLeaveRequest(Long employeeId, LocalDate startDate, LocalDate endDate) {
        // You may want to validate the input parameters and handle any errors here
        
        Employee employee = // Retrieve employee from employeeId (you can use your EmployeeService for this)
        if (employee == null) {
            throw new RuntimeException("Employee not found");
        }

        LeaveRequest leaveRequest = new LeaveRequest();
        leaveRequest.setEmployee(employee);
        leaveRequest.setStartDate(startDate);
        leaveRequest.setEndDate(endDate);
        leaveRequest.setStatus("Pending");

        return leaveRequestRepository.save(leaveRequest);
    }
}
